<!DOCTYPE html>
<html>

<head>
    <title>Running cadence song matcher</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assets/styles/site.css">
</head>

<body>
    <div class="container">
        <div id="login">
            <h1>Running cadence song matcher</h1>
            <a href="/login" class="btn btn-primary">Log in with Spotify</a>
        </div>
        <div id="loggedin">
            <div id="user-profile"></div>
            <div class="panel search-panel">
                <div class="form form-inline">
                    <div class="form-group">
                        <label for="minBpm">Min. BPM</label>
                        <input type="number" id="minBpm" value="125" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="targetBpm">Target BPM</label>
                        <input type="number" id="targetBpm" value="130" class="form-control" />
                    </div>
                    <div class="form-group">
                        <label for="maxBpm">Max. BPM</label>
                        <input type="number" id="maxBpm" value="140" class="form-control" />
                    </div>
                    <button class="btn btn-info" id="searchBtn">
                        Find Recommendations
                    </button>
                </div>

                <div class="form-group playlists-container">
                    <label for="playlists">Playlists</label>
                    <select id="playlists" class="form-control">
                        <option>Select a playlist to add songs to...</option>
                    </select>
                </div>
            </div>

            <div class="tracks"></div>
        </div>
    </div>

    <script id="user-profile-template" type="text/x-handlebars-template">
        <h1>Logged in as {{display_name}}</h1>
      <div class="media">
        <div class="pull-left">
          <img class="media-object" width="150" src="{{images.0.url}}" />
        </div>
        <div class="media-body">
          <dl class="dl-horizontal">
            <dt>Display name</dt>
            <dd class="clearfix">{{display_name}}</dd>
            <dt>Id</dt>
            <dd>{{id}}</dd>
            <dt>Email</dt>
            <dd>{{email}}</dd>
            <dt>Spotify URI</dt>
            <dd>
              <a href="{{external_urls.spotify}}">
                {{external_urls.spotify}}
              </a>
            </dd>
            <dt>Link</dt>
            <dd>
              <a href="{{href}}">
                {{href}}
              </a>
            </dd>
            <dt>Country</dt>
            <dd>{{country}}</dd>
          </dl>
        </div>
      </div>
    </script>

    <script id="track-template" type="text/x-handlebars-template">
        <div class="track">
        <img class="track-bg" src="/assets/images/spotify-logo.png" />
        <div class="track-info">
          <div class="album-image">
            <img class="media-object" width="64" src="{{albumImage}}" />
          </div>
          <div class="details">
            <div>
              <h4>{{name}}</h4>
              <h5>{{album.name}}</h5>
              <b>Artists</b>
              <span>{{artists}}</span>
            </div>
            <div>
              <b>Length</b>
              <span>{{duration}}</span>
            </div>
          </div>
        </div>
        <div>
            <div class="player">
            {{#if preview_url}}
            <audio controls>
                <source src="{{preview_url}}" type="audio/mpeg" />
            </audio>
            {{else}}
            <em>
                Preview missing...
            </em>
            {{/if}}
            </div>
            <div class="actions">
            <button class="btn btn-success addToPlaylistBtn" data-trackuri="{{uri}}">
                Add to playlist
            </button>
            </div>
        </div>
      </div>
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="/assets/scripts/site.js"></script>
</body>

</html>